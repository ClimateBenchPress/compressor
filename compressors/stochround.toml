name = "Stochastic Rounding"

[[codec]]
name = "noise"
import = "numcodecs_wasm_uniform_noise.UniformNoise"
kind = "lossy"

[codec.parameters]
# scale must be half of the desired precision
scale = { type = "float", value = 0.005 }
seed = { type = "int", value = 42 }

[[codec]]
name = "round"
import = "numcodecs_wasm_round.Round"
kind = "lossy"

[codec.parameters]
precision = { type = "float", expr = "noise.scale * 2" }

[[codec]]
name = "zlib"
import = "numcodecs_wasm_zlib.Zlib"
kind = "binary-lossless"

[codec.parameters]
level = { type = "int", value = 6 }
